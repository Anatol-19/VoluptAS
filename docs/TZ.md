# Техническое задание (ТЗ) v5  
## Универсальный инструмент для управления функционалом и покрытием QA

---

## **1. Цель и назначение**

Создать универсальное десктопное приложение (MVP) для управления декомпозицией, трассировкой, покрытием и ответственностью за функциональные элементы продукта (фичи, эпики, страницы и т.д.), с поддержкой QA-отчётности, интеграции с BDD/feature-файлами и возможностью экспорта в Google Sheets, Markdown и Zoho.

---

## **2. Архитектурные принципы и экраны**

### **2.1. Три ключевых экрана:**
1. **Таблица (главный экран):**
    - Все сущности (функциональные строки) как строки таблицы.
    - Inline-редактирование большинства полей.
    - Фильтрация/поиск/сортировка по любому полю, быстрые фильтры по крит/фокус/ответственным.
    - Быстрый переход к редактору сущности и к графу.
2. **Граф связей:**
    - Визуализация структуры, иерархии и N:M связей между сущностями.
    - Фильтры по типу, тегу, сегменту, глубине.
    - Клик по вершине — переход к карточке/редактору сущности.
3. **Редактор сущности:**
    - Форма создания/редактирования с динамическим набором полей (зависит от типа).
    - Управление связями (иерархическими и произвольными), тегами, алиасами, ответственными, документацией.
    - Быстрый просмотр и копирование Functional ID.
    - Чекбоксы isCrit/isFocus, секция “Ответственные” (только из справочника сотрудников).

---

## **3. Основные сущности и поля**

**FunctionalItem (фича-строка):**
- id (Functional ID, тег — автогенерируется, уникальный, составной)
- type (Module, Epic, Feature, Page, Service, Element, Story — строго из справочника, только при разработке)
- title, description
- module, epic, feature, stories (по необходимости — выпадашки только из существующих)
- segment (строго из справочника, только при разработке)
- tags (автоматически, алиасы — ручное добавление, составные, фильтрация по сегментам)
- isCrit, isFocus (чекбоксы)
- responsible_qa, responsible_dev (обязательные, только из справочника сотрудников)
- accountable, consulted, informed (опционально, только из справочника сотрудников)
- test_cases_linked (мультисписок)
- automation_status (enum)
- documentation_links (мультисписок ссылок/файлов)
- custom_fields (только те, что определены при разработке)
- created_at, updated_at

**User (справочник сотрудников):**
- id, name, position, email, zoho_id (по мере наполнения)
- Справочник редактируется только через отдельный менеджер (не “на лету”)

---

## **4. Теги и алиасы**

- **Functional ID (тег):** автогенерируется по структуре (module.epic.feature...), всегда уникальный, составной.
- **Алиасы:** множественные, ручное добавление, могут быть на сегмент тега, фильтрация “по сегменту” (без substring-вхождения).
- **Поиск и фильтрация:** умный, по компонентам тега/алиаса (например, фильтр по эпик покажет все теги, где он часть пути).
- **Экспорт/импорт:** поддержка алиасов для интеграции с внешними системами.

---

## **5. Матрица покрытия/трассировки и метрики**

- **Варианты представления:**
    - Классическая матрица (строки — фичи, колонки — требования, тест-кейсы, автотесты, документация, isCrit, isFocus, ответственные)
    - Многоуровневый список (разворачиваемый модуль → эпик → фича → сторис)
- **Поля трассировки:** test_cases_linked, automation_status, documentation_links, isCrit, isFocus, responsible_qa/dev
- **Фильтры по любому полю, быстрые срезы “только критичное”, “без покрытия”, “без документации”**
- **Метрики (считаются на лету):**
    - % покрытых тест-кейсами, автотестами, документацией
    - % критичного/фокусного функционала, покрытого тестами, автотестами, документацией
    - Количество “дыр” (без покрытия), в том числе среди критичных
    - Выводятся под таблицей/матрицей и экспортируются вместе с ней
- **Экспорт:**  
    - Google Sheets — фильтрация по всем колонкам, экспорт любых срезов (в т.ч. крит/фокус-листы, “дыры”, только без покрытия и т.д.)
    - Markdown — экспорт структур, матриц, отчётов
    - Zoho — экспорт сотрудников, матриц покрытия, крит/фокус-листов

---

## **6. Фокус-листы и Крит-листы**

- **isFocus и isCrit** — отдельные чекбоксы у каждой строки, массовое назначение через мультиселект.
- **Быстрые фильтры/экспорт:** получить в один клик CSV/MD/Google Sheets только по крит/фокус-листу.
- **В матрице покрытия — обязательный срез/отчёт по крит/фокус-функционалу.**

---

## **7. BDD/Feature-файлы (3-й инкремент)**

- **Секция в редакторе сущности:** генерация feature-файла по шаблону, просмотр, ручное редактирование (с подсветкой Gherkin), загрузка/экспорт, связь с тест-кейсами и автотестами.
- **Массовый экспорт/импорт:** выгрузка всех feature-файлов для автотестов или интеграций.

---

## **8. RACI/Ответственные**

- **Обязательные поля:** Responsible QA, Responsible Dev (только из справочника сотрудников).
- **Опциональные:** Accountable, Consulted, Informed (только из справочника сотрудников).
- **Фильтрация по ответственным:** быстрый поиск по QA/Dev, массовое назначение.
- **Экспорт для отчётов/Zoho:** обязательные и дополнительные роли выгружаются вместе с функционалом.

---

## **9. Покрытие документацией**

- **Док-линки:** мультисписок ссылок/файлов у каждой строки, отдельная колонка-индикатор.
- **Фильтрация “без документации”**, отдельные срезы для отчётов.
- **В метриках — % покрытия документацией**, отдельно по крит/фокус-листу.

---

## **10. Экспорт и интеграция**

- **Форматы:** Google Sheets (импорт/экспорт), Markdown (структуры, матрицы, отчёты), Zoho (экспорт сотрудников и матриц).
- **Всё, что в таблице/матрице — можно фильтровать и экспортировать по любому срезу (крит, фокус, ответственный, без покрытия и т.д.)**
- **Импорт через CSV** — только по заданным полям, без мастера маппинга (оставить на дальнейшие инкременты).

---

## **11. Ограничения MVP**

- **Справочники (типы, сегменты, статусы, кастомные поля)** — редактируются только при разработке, не через UI пользователя.
- **Импорт/маппинг, массовые операции, редактор справочников, аудит изменений** — на будущее, не входят в MVP.
- **Права доступа и роли** — базовые, только для будущих версий (MVP — однопользовательский режим).
- **Массовое редактирование** — только для чекбоксов isCrit/isFocus, ответственных и алиасов; остальное — вручную через редактор.

---

## **12. UX/Best practices**

- **Минимум действий:** всё строится автоматически по заполненным полям, без лишних сущностей.
- **Быстрый переход:** клик по строке/ячейке — открывает редактор или связанные элементы.
- **Цветовые индикаторы:** для крит/фокус, покрытия, документации.
- **Валидация обязательных полей:** нельзя сохранить строку без QA и Dev, уникальный тег, заполненность покрытия для критичных.
- **Массовые действия — только для ключевых полей (крит/фокус, ответственный, алиасы)**
- **Экспорт — одной кнопкой, всегда с метриками и срезами.**

---

## **13. Перспектива развития**

- Мастер импорта/маппинга
- Расширенное управление справочниками и кастомными полями через UI
- История изменений, аудит, многопользовательский режим, права доступа
- Интеграция с CI/Allure, виджеты по автотестам, аналитика загрузки ответственных
- Настройки шаблонов экспорта, плагины интеграций (Qase, TestRail, XMind и др.)
- Дашборды покрытия (heatmap), автоматизация формирования крит/фокус-листов

---

**Документ готов для передачи в разработку и обсуждения с командой. Все решения и ограничения синхронизированы с обсуждением, приоритет на скорость, простоту и удобство для QA и менеджмента.**